<?xml version="1.0" encoding="utf-8"?>
<configuration>
	<configSections>
		<section name="log4net"
     type="log4net.Config.Log4NetConfigurationSectionHandler, log4net" />
	</configSections>
  <startup>
    <supportedRuntime version="v4.0" sku=".NETFramework,Version=v4.7.2" />
  </startup>

  <appSettings>
    <add key="DefaultCulture" value="es-MX"/>
  </appSettings>

	<!-- === Configuracion de Log4Net  === -->

	<log4net>
		<appender name="ClientRollingFile" type="log4net.Appender.RollingFileAppender">
			<!-- La ruta real se fija en código con %property{LogFileName} -->
			<file type="log4net.Util.PatternString" value="%property{LogFileName}" />
			<encoding value="utf-8" />
			<appendToFile value="true" />
			<rollingStyle value="Date" />
			<datePattern value="'.'yyyy-MM-dd'.log'" />
			<staticLogFileName value="true" />
			<lockingModel type="log4net.Appender.FileAppender+MinimalLock" />
			<layout type="log4net.Layout.PatternLayout">
				<conversionPattern value="%date %-5level %logger - %message%newline%exception" />
			</layout>
		</appender>

		<root>
			<level value="Info" />
			<appender-ref ref="ClientRollingFile" />
		</root>
	</log4net>

  <system.serviceModel>
    <bindings>
      <basicHttpBinding>
        <binding name="BasicHttpBinding_IUserService" />
        <binding name="BasicHttpBinding_ILobbyService" />
        <binding name="BasicHttpBinding_IAuthService" />
        <binding name="BasicHttpBinding_IChatService" />
      </basicHttpBinding>
      <netTcpBinding>
        <binding name="NetTcpBinding_IUserService">
          <security>
            <transport sslProtocols="None" />
          </security>
        </binding>
        <binding name="NetTcpBinding_ILobbyService">
          <security>
            <transport sslProtocols="None" />
          </security>
        </binding>
        <binding name="NetTcpBinding_IAuthService">
          <security>
            <transport sslProtocols="None" />
          </security>
        </binding>
        <binding name="NetTcpBinding_IChatService">
          <security>
            <transport sslProtocols="None" />
          </security>
        </binding>
      </netTcpBinding>
    </bindings>

    <client>
      <endpoint address="http://localhost:8085/User" binding="basicHttpBinding"
        bindingConfiguration="BasicHttpBinding_IUserService" contract="UserService.IUserService"
        name="BasicHttpBinding_IUserService" />
      <endpoint address="net.tcp://localhost:8095/User" binding="netTcpBinding"
        bindingConfiguration="NetTcpBinding_IUserService" contract="UserService.IUserService"
        name="NetTcpBinding_IUserService">
        <identity>
          <userPrincipalName value="LAPTOPIRENE\irene" />
        </identity>
      </endpoint>
      <endpoint address="http://localhost:8085/lobby/" binding="basicHttpBinding"
        bindingConfiguration="BasicHttpBinding_ILobbyService" contract="LobbyService.ILobbyService"
        name="BasicHttpBinding_ILobbyService" />
      <endpoint address="net.tcp://localhost:8095/lobby/" binding="netTcpBinding"
        bindingConfiguration="NetTcpBinding_ILobbyService" contract="LobbyService.ILobbyService"
        name="NetTcpBinding_ILobbyService">
        <identity>
          <userPrincipalName value="LAPTOPIRENE\irene" />
        </identity>
      </endpoint>
      <endpoint address="http://localhost:8085/auth/" binding="basicHttpBinding"
        bindingConfiguration="BasicHttpBinding_IAuthService" contract="AuthService.IAuthService"
        name="BasicHttpBinding_IAuthService" />
      <endpoint address="net.tcp://localhost:8095/auth/" binding="netTcpBinding"
        bindingConfiguration="NetTcpBinding_IAuthService" contract="AuthService.IAuthService"
        name="NetTcpBinding_IAuthService">
        <identity>
          <userPrincipalName value="LAPTOPIRENE\irene" />
        </identity>
      </endpoint>
      <endpoint address="http://localhost:8086/chat" binding="basicHttpBinding"
        bindingConfiguration="BasicHttpBinding_IChatService" contract="ChatService.IChatService"
        name="BasicHttpBinding_IChatService" />
      <endpoint address="net.tcp://localhost:8087/chat" binding="netTcpBinding"
        bindingConfiguration="NetTcpBinding_IChatService" contract="ChatService.IChatService"
        name="NetTcpBinding_IChatService">
        <identity>
          <userPrincipalName value="LAP-ASTRID\reino" />
        </identity>
      </endpoint>
    </client>
  </system.serviceModel>
</configuration>
